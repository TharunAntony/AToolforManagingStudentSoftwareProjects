<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="'Project Details - ' + ${project.title}">Project Details</title>
    <link rel="stylesheet" href="/css/convenor/viewProjects.css">
    <link rel="stylesheet" href="/css/convenor/navbar.css">
</head>
<body>

<div th:replace="fragments/navbar :: navbar"></div>

<div class="container">

    <!-- Project Overview -->
    <section class="section">
        <h1 th:text="${project.title}">Project Title</h1>
        <p><strong>Description:</strong> <span th:text="${project.description}">Project Description</span></p>
        <p><strong>Deadline:</strong>
            <span th:text="${#temporals.format(project.deadline, 'dd MMM yyyy, HH:mm')}">Deadline</span>
            <span th:if="${project.deadline.isBefore(T(java.time.LocalDateTime).now())}" style="color: red;">(Past Due)</span>
        </p>
        <p><strong>Group Capacity: </strong><span th:text="${project.groupCapacity}">Group Capacity</span></p>
    </section>

    <hr/>

    <!-- Groups Section -->
    <section class="section">
        <h2>Project Groups</h2>

        <div th:if="${#lists.isEmpty(groups)}">
            <p>No groups created yet.</p>
        </div>

        <div th:if="${!#lists.isEmpty(groups)}">
            <ul>
                <li th:each="group : ${groups}">
                    <strong th:text="${group.groupName}">Group Name</strong>
                    <span> (Members: <span th:text="${#lists.size(group.groupMembers)}">0</span>)</span>

                    <ul class="member-list">
                        <li th:each="member : ${group.groupMembers}">
                            <span th:text="${member.student.student.firstName + ' ' + member.student.student.lastName}">Student Name</span>
                            (<span th:text="${member.student.student.email}">email</span>)
                        </li>
                    </ul>
                </li>
            </ul>
        </div>
    </section>

    <hr/>

    <!-- Students Section -->
    <section class="section">
        <h2>Assigned Students</h2>
        <div th:if="${#lists.isEmpty(students)}">
            <p>No students assigned yet.</p>
        </div>
        <ul th:if="${!#lists.isEmpty(students)}">
            <li th:each="student : ${students}">
                <span th:text="${student.student.firstName} + ' ' + ${student.student.lastName}">Student Name</span>
                (<span th:text="${student.student.email}">Email</span>)
            </li>
        </ul>
    </section>

</div>

</body>
</html>
